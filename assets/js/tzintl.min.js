/*@preserve
 * @file TZIntl.js vers. 1.1, a light-weight & compatible date-time conversion library
 * docs & download: https://www.masswerk.at/tzintl/
 * @author Norbert Landsteiner, 2021 <www.masswerk.at>
 * @license MIT 
 * Copyright 2021 Norbert Landsteiner <www.masswerk.at>
 */
var TZIntl=function(){"use strict";var _hasIntlDateTime=!("undefined"==typeof Intl||!Intl.DateTimeFormat);function dd(n){return n||(n=0),(n<10?"0":"")+n}function _toISOString(){for(var y=""+this.year;y.length<4;)y="0"+y;return y+"-"+dd(this.month)+"-"+dd(this.day)+"T"+dd(this.hour)+":"+dd(this.minute)+":"+dd(this.second)+("+00:00"===this.offsetString?"Z":this.offsetString)}return{getDateTime:function getDateTime(tzString,date){if(!_hasIntlDateTime)return null;var formatter,refDate,obj;try{formatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZoneName:"short",timeZone:tzString||void 0})}catch(e){return{error:"time zone name not implemented"}}if(date)if(date instanceof Date)refDate=date;else if(date&&"string"==typeof date){try{var t=new Date(date)}catch(e){}if(!t)return{error:"invalid date string"};refDate=t}else if(date&&"number"==typeof date){try{t=new Date(date)}catch(e){}if(!t)return{error:"invalid date value"};refDate=t}else if("[object Array]"===Object.prototype.toString.call(date)){try{t=Date.prototype.constructor.apply(null,date)}catch(e){}if(!t)return{error:"invalid date arguments"};refDate=t}if(refDate||(refDate=new Date),formatter.formatToParts){var parts=formatter.formatToParts(refDate);obj={};for(var i=0;i<parts.length;i++){var p=parts[i];switch(p.type){case"day":case"month":case"year":case"hour":case"minute":case"second":obj[p.type]=parseInt(p.value,10);break;case"timeZoneName":obj[p.type]=p.value}}}else if(formatter.format){var m,ts=formatter.format(refDate).replace(/\200E/g,""),props=["month","day","year","hour","minute","second"],re=/\d+/g,idx=0;for(obj={};m=re.exec(ts);)if(obj[props[idx++]]=parseInt(m[0],10),idx===props.length){obj.timeZoneName=ts.substring(re.lastIndex).replace(/^\s+/,"");break}}if(obj){24==obj.hour&&(obj.hour=0);var d=new Date(Date.UTC(obj.year,obj.month-1,obj.day,obj.hour,obj.minute,obj.second)),dt=Math.floor(d.getTime()/6e4)-Math.floor(refDate.getTime()/6e4),sign=dt<0?"-":"+",adt=Math.abs(dt),adh=Math.floor(adt/60),adm=adt%60,tzn="GMT";return dt&&(tzn+=sign+adh,adm&&(tzn+=":"+dd(adm))),obj.offsetMinutes=dt,obj.offsetString=sign+dd(adh)+":"+dd(adm),obj.weekday=d.getUTCDay(),obj.toISOString=_toISOString,obj.GMTOffsetName=tzn,obj.timeZoneName||(obj.timeZoneName=tzn),obj}return null},isSupportedTimeZone:function isSupportedTimeZone(tzString){if(_hasIntlDateTime){if(!tzString)return!0;try{return new Intl.DateTimeFormat("en",{timeZone:tzString})&&!0}catch(e){}}return!1},isSupported:function isSupported(){return _hasIntlDateTime},dd:dd}}();